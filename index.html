<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Test</title>
</head>
<body>

    <div class="container">
        <img src="images/head.png" alt="Центрированное изображение">
        <div class="text-block"> During archaeological <br> excavations in Tunnel <br> 3-80-7, discovered deep <br> within the former office <br> complex of the General <br> Agency for Inertnobesafety <br> Assimilation, an unusual <br> face cast was found, made <br> from an unidentified <br> material. The remains were <br> found about 3 meters off <br> the ground in one of the <br> darkened corridors, <br> suggesting the object <br> was placed in the wall <br> for long-term observation.
        </div>
        <div class="text-block2"> The cast, judging <br> by its expression, <br> was left at a mo- <br> ment of extreme <br> psychological <br> influence - <br> perhaps this man <br> was caught in the <br> radio waves <br> emitted by the <br> worm Luminaria, <br> or he found him- <br> self in the zone <br> of some psychoac- <br> tive influence <br> that left him <br> no chance <br> of resistance
        </div>
        <div class="text-block3">Looking at this face,<br> one can assume that it<br> expresses not just the<br> emotions of one person,<br> but is a symbol of the<br> suffering that all of<br>Luminaria's<br> "subordinates" endured
        </div>
        <div class="text-block-top">
            Scan of a pet- <br>rified face found <br> in tunnel 3-80-7
        </div>
    </div>

    <!-- Вставка JavaScript -->
    <script>
        // Массив символов для шифрования
        const possibleChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,.<>?/';
    
        // Функция для генерации случайной строки заданной длины
        function randomString(length) {
            let result = '';
            for (let i = 0; i < length; i++) {
                result += possibleChars[Math.floor(Math.random() * possibleChars.length)];
            }
            return result;
        }
    
        // Функция для шифрования случайных слов в тексте, сохранение <br>
        function encryptText(blockId, originalText) {
            const block = document.querySelector(blockId);
    
            // Сохраняем <br> теги как маркер, чтобы их не потерять
            const preservedText = originalText.replace(/<br\s*\/?>/g, '___BR___');
            
            // Разделяем текст на слова
            const words = preservedText.split(' ');
    
            setInterval(() => {
                const newWords = words.map(word => {
                    // С вероятностью 30% заменяем слово на случайные символы
                    if (Math.random() < 0.3) {
                        return randomString(word.length); // Генерируем случайное слово
                    } else {
                        return word; // Оставляем слово как есть
                    }
                });
    
                // Восстанавливаем <br> теги, заменяя маркер назад
                const newText = newWords.join(' ').replace(/___BR___/g, '<br>');
    
                // Обновляем содержимое блока
                block.innerHTML = newText;
            }, 150); // Интервал смены слов
        }
    
        // Тексты для шифрования (не трогаем блок 6)
        const textBlock2 = 'The cast, judging by its expression, was left at a moment of extreme psychological influence – perhaps this man was caught in the radio waves emitted by the worm Luminaria, or he found himself in the zone of some psychoactive influence that left him no chance of resistance.';
        const textBlock3 = 'Looking at this face, one can assume that it expresses not just the emotions of one person, but is a symbol of the suffering that all of Luminaria\'s "subordinates" endured.';
        const textBlockTop = 'Scan of a petrified face found in tunnel 3-80-7';
    
        // Применяем эффект шифрования ко всем текстовым блокам
        encryptText('.text-block2', textBlock2);
        encryptText('.text-block3', textBlock3);
        encryptText('.text-block-top', textBlockTop);
    </script>

</body>
</html>
